{"ast":null,"code":"import axios from 'axios';\nvar API_URL = 'http://localhost:8000';\nvar isDevelopment = __DEV__;\nvar api = axios.create({\n  baseURL: API_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.request.use(function (config) {\n  if (isDevelopment) {\n    var _config$method;\n    console.log('API Request:', (_config$method = config.method) == null ? void 0 : _config$method.toUpperCase(), config.url);\n  }\n  return config;\n}, function (error) {\n  console.error('Request Error:', error.message);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(function (response) {\n  if (isDevelopment) {\n    console.log('API Response:', response.status, response.config.url);\n  }\n  return response;\n}, function (error) {\n  if (error.code === 'ECONNABORTED') {\n    console.error('Request timeout - Backend not responding');\n    error.message = 'Connection timeout. Please check if backend is running.';\n  } else if (error.code === 'ERR_NETWORK' || error.message === 'Network Error') {\n    console.error('Network error - Cannot reach backend');\n    error.message = 'Cannot connect to server. Please check your connection.';\n  } else if (error.response) {\n    if (error.response.status === 401) {\n      console.log('Unauthorized access');\n      error.message = 'Invalid credentials. Please try again.';\n    } else if (error.response.status === 404) {\n      error.message = 'Resource not found.';\n    } else if (error.response.status >= 500) {\n      error.message = 'Server error. Please try again later.';\n    }\n  } else {\n    console.error('Unknown error:', error.message);\n  }\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","API_URL","isDevelopment","__DEV__","api","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","console","log","method","toUpperCase","url","error","message","Promise","reject","response","status","code"],"sources":["C:/Users/vrajr/Downloads/gujarat-unified-services-portal-grants-and-improvements/gujarat-unified-services-portal-grants-and-improvements/mobile-app/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Update this URL to match your backend\r\n// For local testing, use your computer's IP address (not localhost)\r\n// Example: 'http://192.168.1.100:8000'\r\nconst API_URL = 'http://localhost:8000';\r\n\r\n// Check if we're in development mode\r\nconst isDevelopment = __DEV__;\r\n\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  timeout: 10000, // Reduced timeout for faster failure\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (isDevelopment) {\r\n      console.log('API Request:', config.method?.toUpperCase(), config.url);\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('Request Error:', error.message);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor with better error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    if (isDevelopment) {\r\n      console.log('API Response:', response.status, response.config.url);\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle different types of errors\r\n    if (error.code === 'ECONNABORTED') {\r\n      console.error('Request timeout - Backend not responding');\r\n      error.message = 'Connection timeout. Please check if backend is running.';\r\n    } else if (error.code === 'ERR_NETWORK' || error.message === 'Network Error') {\r\n      console.error('Network error - Cannot reach backend');\r\n      error.message = 'Cannot connect to server. Please check your connection.';\r\n    } else if (error.response) {\r\n      // Server responded with error\r\n      if (error.response.status === 401) {\r\n        console.log('Unauthorized access');\r\n        error.message = 'Invalid credentials. Please try again.';\r\n      } else if (error.response.status === 404) {\r\n        error.message = 'Resource not found.';\r\n      } else if (error.response.status >= 500) {\r\n        error.message = 'Server error. Please try again later.';\r\n      }\r\n    } else {\r\n      console.error('Unknown error:', error.message);\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAKzB,IAAMC,OAAO,GAAG,uBAAuB;AAGvC,IAAMC,aAAa,GAAGC,OAAO;AAE7B,IAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC;EACvBC,OAAO,EAAEL,OAAO;EAChBM,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAGFJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CAC1B,UAACC,MAAM,EAAK;EACV,IAAIV,aAAa,EAAE;IAAA,IAAAW,cAAA;IACjBC,OAAO,CAACC,GAAG,CAAC,cAAc,GAAAF,cAAA,GAAED,MAAM,CAACI,MAAM,qBAAbH,cAAA,CAAeI,WAAW,CAAC,CAAC,EAAEL,MAAM,CAACM,GAAG,CAAC;EACvE;EACA,OAAON,MAAM;AACf,CAAC,EACD,UAACO,KAAK,EAAK;EACTL,OAAO,CAACK,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACC,OAAO,CAAC;EAC9C,OAAOC,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;AAGDf,GAAG,CAACK,YAAY,CAACc,QAAQ,CAACZ,GAAG,CAC3B,UAACY,QAAQ,EAAK;EACZ,IAAIrB,aAAa,EAAE;IACjBY,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEQ,QAAQ,CAACC,MAAM,EAAED,QAAQ,CAACX,MAAM,CAACM,GAAG,CAAC;EACpE;EACA,OAAOK,QAAQ;AACjB,CAAC,EACD,UAACJ,KAAK,EAAK;EAET,IAAIA,KAAK,CAACM,IAAI,KAAK,cAAc,EAAE;IACjCX,OAAO,CAACK,KAAK,CAAC,0CAA0C,CAAC;IACzDA,KAAK,CAACC,OAAO,GAAG,yDAAyD;EAC3E,CAAC,MAAM,IAAID,KAAK,CAACM,IAAI,KAAK,aAAa,IAAIN,KAAK,CAACC,OAAO,KAAK,eAAe,EAAE;IAC5EN,OAAO,CAACK,KAAK,CAAC,sCAAsC,CAAC;IACrDA,KAAK,CAACC,OAAO,GAAG,yDAAyD;EAC3E,CAAC,MAAM,IAAID,KAAK,CAACI,QAAQ,EAAE;IAEzB,IAAIJ,KAAK,CAACI,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACjCV,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCI,KAAK,CAACC,OAAO,GAAG,wCAAwC;IAC1D,CAAC,MAAM,IAAID,KAAK,CAACI,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACxCL,KAAK,CAACC,OAAO,GAAG,qBAAqB;IACvC,CAAC,MAAM,IAAID,KAAK,CAACI,QAAQ,CAACC,MAAM,IAAI,GAAG,EAAE;MACvCL,KAAK,CAACC,OAAO,GAAG,uCAAuC;IACzD;EACF,CAAC,MAAM;IACLN,OAAO,CAACK,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACC,OAAO,CAAC;EAChD;EAEA,OAAOC,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC;AAC9B,CACF,CAAC;AAED,eAAef,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}